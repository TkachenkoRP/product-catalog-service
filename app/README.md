# Каталог Товаров

## Описание приложения

Веб-приложение для управления каталогом товаров с системой аутентификации и авторизации, возможностью сохранения данных
в реляционной базе данных.

## Используемые технологии

* Java 17
* Maven
* Spring Boot
* MapStruct
* JDBC
* PostgreSQL
* Liquibase
* Jackson
* AssertJ
* JUnit 5
* Mockito
* Testcontainers
* Кеширование Redis
* [Собственный стартер для логирования и аудита приложения](https://github.com/TkachenkoRP/audit-logging-starter)

## Функциональность

### Аутентификация и авторизация

- Регистрация новых пользователей (`/api/auth/register`)
- Вход в систему (`/api/auth/login`)
- Выход из системы (`/api/auth/logout`)
- Валидация учетных данных

### Управление пользователями

- Просмотр списка пользователей (`GET /api/user`)
- Просмотр профиля пользователя по ID (`GET /api/user/{id}`)
- Обновление данных пользователя (`PUT /api/user/{id}`)
- Удаление пользователей (`DELETE /api/user/{id}`)

### Управление товарами

- CRUD операции с товарами (`GET/POST/PUT/DELETE /api/product`)
- Фильтрация товаров по различным критериям:
    - Категория (`categoryId`)
    - Бренд (`brandId`)
    - Диапазон цен (`minPrice`, `maxPrice`)
    - Минимальное количество на складе (`minStock`)
- Валидация данных при создании и обновлении

### Управление справочниками

- Категории - CRUD операции (`/api/category`)
- Бренды - CRUD операции (`/api/brand`)
- Проверка уникальности названий категорий и брендов
- Защита от удаления используемых в товарах категорий и брендов

## Структура API

### Формат запросов

- Все запросы с телом используют JSON формат
- Параметры передаются через query parameters
- Стандартные HTTP методы: GET, POST, PUT, DELETE

## База данных

- Используется PostgreSQL как основная СУБД
- Миграции управляются через Liquibase
- Автоматическое создание и обновление схемы при запуске

## Инструкции по запуску

1. Клонировать репозиторий из GitHub.
2. Убедитесь, что у вас установлен Docker.
3. Запустите `docker-compose -f docker/docker-compose.yml up` в директории проекта.
4. Запустите приложение.
5. Приложение будет доступно по адресу [http://localhost:8080](http://localhost:8080).

## Документация API

Документацию API можно найти по
ссылке [http://localhost:8080/swagger-ui/index.html](http://localhost:8080/swagger-ui/index.html)

## Дополнительная информация

По умолчанию имеется пользователь с ролью администратора:  
Логин: admin@my.ru  
Пароль: aDmIn  
А так же пользователь с ролью пользователя:  
Логин: user@my.ru  
Пароль: UsEr